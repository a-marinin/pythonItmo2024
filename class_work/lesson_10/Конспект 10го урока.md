## Урок 10. Заключение

### Работа с файлами
С любыми файлами можнопроизводить действия, которые делятся на три группы:
- открытие
- операции чтения из файла и записи в файл
- закрытие

### Открытие файла на чтение и запись
Открыть файл можно с помощью функции

    open(file, mode='rt')

### Режимы открытия файла
| Аргумент (mode) | Как работает                                                |
|-----------------|-------------------------------------------------------------|
| t               | Открыть как текстовый файл                                  |
| w               | Запись в файл и создание файла, если его не существует      |
| x               | Запись в файл и вызовы исключения, если файла не существует |
| b               | Открыть как двоичный файл                                   |
| a               | Запись в файл путём добавления новых значений в конец       |
| +               | Работы в режиме чтения и записи                             |

После окончания работы файлы надо закрывать - так же, как мы это делаем на компьютере.  
Для этого используется функция close()  

Пример:

    f = open('test.txt', 'w+')
    # действия 
    
    f.close()

Также файлы можно открывать с помощью менеджера контекста with.  
В этом случае файл автоматически закроется, когда работы с ним завершится (когда закончится блок контекста):  

Пример: 

    with open('test.txt', 'w+') as f:
        # действия

Для записи файла используется метод write().

Пример: 

    with open('test.txt', 'w+') as f:
        f.write('test file')

### Записать список внутри в файла


    with open('data.txt', 'w+') as f:
    
        f.write('test file\n')
    
        data = ['test\n', 'line\n', 'write\n']
        f.writelines(data)
    
### Чтение из файла
Чтение из файла Python можно реализовать с помощью функции read().  
Если он открыт в режиме чтения r.

Пример: 

    with open('data.txt', 'w+') as f:
        data = f.read()
    print(data)

### Задача №1 
1. Создайте произвольный список, состоящий из чисел
2. Откройте файл в режиме "w+" и записите в файл созданный список 

### Решение задачи №1
    import random
    x = [random.randint(-10, 10) for i in range(20)]
    
    print(x)  # Результат: [-2, -5, 6, -9, -1, 6, 5, -7, 9, -1, -7, 4, -6, -5, 8, 4, -8, 7, -4, -1]
    
    with open('data.txt', 'w+') as f:
        
        x = list(map(lambda a: str(a)+'\n', x))
        
        f.writelines(x)

### Задача №2
1. Считайте созданный файл в переменную
2. Из считанных данных оставьте только цифры, сохраните всё в список

### Решение задачи №2
    with open('data.txt', 'r') as f:
        def my_int(x):
            try:
                return int(x)
            except:
                return x
    
        data = list(filter(lambda x: type(x) == int, map(my_int, list(f.read()))))
    
    print(data)  # Результат: [2, 5, 6, 9, 1, 6, 5, 7, 9, 1, 7, 4, 6, 5, 8, 4, 8, 7, 4, 1]

### Библиотека matplotlib
    pip install matplotlib

Это поплексная библиотека для создания статических, анимированных и интерактивных визуализаций на Python. 

Пример использования:

    import matplotlib.pyplot as plt
    
    with open('data.txt', 'r') as f:
        def my_int(x):
            try:
                return int(x)
            except:
                return x
    
        data = list(filter(lambda x: type(x) == int, map(my_int, list(f.read()))))
    
    
    print(data)  # Результат: [2, 5, 6, 9, 1, 6, 5, 7, 9, 1, 7, 4, 6, 5, 8, 4, 8, 7, 4, 1]
    
    plt.plot(data)
    plt.show()

### Задача №3
Визуализировать ряд Фибоначи 

### Решение задачи №3
    import matplotlib.pyplot as plt
        
    def fib(n):
        if n == 1:
            return [1]
        if n == 2:
            return [1, 1]
        fib1 = fib2 = 1
        res = [fib1, fib2]
        for i in range(2, n):
            fib1, fib2 = fib2, fib1 + fib2
            res.append(fib2)
        return res
        
    # print(fib(10))  # Результат: [1, 1, 2, 3, 5, 8, 13, 21, 34, 55]
    plt.plot(fib(10))  # Составить график
    plt.show()  # Вывод графика на экран

### Библиотека numpy
    pip install numpy

Пример построения графиков синусов и сисинусов:

    import numpy as np
    import matplotlib.pyplot as plt
    
    x = np.arange(-10, 10.01, 0.01)
    
    plt.plot(x, np.sin(x), x, np.cos(x), x, -x)
    plt.xlabel(r'$x$')
    plt.ylabel(r'$f(x)$')
    plt.title(r'$f_1(x)=\sin(x),\ f_2(x)=\cos(x),\ f_3(x)=-x$')
    plt.grid(True)
    plt.show()

### Основные области, где применяется Python
1. Web-разработка
2. Аналитика данных
3. Тестирование
4. Desktop-приложения

### Web-разработка
- Как работает интернет? Как работают протоколы?
- Библиотеки для обработки HTTP
- Фреймворки:
  - FastAPI
  - Flask
  - Tornado
  - Pyramid
  - TurboGears
  - CherryPy
  - Django

### Аналитика данных
- SciPy - набор инструментов для научных вычислений
- NumPy - расширение, которое позволяет оперировать матрицами и многомерными массивами
- pandas - библиотека для аналитики данных
- Matplotlib - библиотека для построения графиокв различной сложности
- TensoFlow
- scikit-learn
- Keras

### Тестирование
- unittest
- pytest
- playwright