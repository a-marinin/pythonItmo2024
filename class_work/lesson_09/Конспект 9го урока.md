## Урок 8. Регулярные выражения

### Регулярные выражения
Регулярные выражения - это способ искать подстроку внутри строки.  
Регулярные выражения - это шаблоны, которые используются для поиска соответствующего фрагмента текста и сопоставления символов. 
- '\d+' -> 
  - '1'
  - '123'
  - '1234560954609'
- '\d' -> 
  - '1'
  - '123' -> НЕТ
  - '1234560954609' -> НЕТ

Регулярное выражение, или коротко "регулярка" (regexp), состоит из обычных символов и специальны командных последовательностей.  
Например, '\d' задаёт любую цифру, а '\d+' задаёт любую последовательность из одной или более цифр.  
Символ + можно ставить к любым спецсимволам, для того, чтобы обозначит, что мы ищем одну и более последовательности этого паттерна.

Для использования регулярок в Python есть стандартная библиотека re

    import re

Для указания паттерна регулярного выражения перед строчкой требуется указывать 'r'

    import re
    r = re.match(pattern=r'\w', string= '')

### Основы синтаксиса регулярных выражений
Любая строка (в которой нет спецсимволов .^$*+?{}[]\|()) сама по себе является регулярным выражением. 

    import re
    
    # Пример №1 
    if re.fullmatch(r'python', 'python'):
        print(True)
    else:
        print(False)
    # Результат: True
    
Регулярные выражения чувствительны к регистру. Об этом следуюет помнить.   
Для написания спец символов как обычным, их требуется экранировать.

    # Пример №2
    if re.fullmatch(r'\*python\.', '*python.'):
        print(True)
    else:
        print(False)
    # Результат: True

### Основные спец символы в регулярных выражениях
1. \d - соответствует любой одной цифре и заменяет собой вырежние [0-9]
2. \D - исключает все цифры и заменяет [^0-9]
3. \w - заменяет любую цифру, букву, а также знак нижнего подчёркивания
4. \W - любой символ кроме латиницы, цифр или нижнего подчёркивания
5. \s - соответствует любому пробельному символу (обычные пробелы, NBSP)
6. \S - описывает любой непрерывный символ 
7. . - соответствует любому символу (Исключение: точка не ищет знак переноса строки (\n))
8. {n} - комбинатор повторений. Пример: \d{5} - соответствует 5 фийрам
9. \* - любое количество повторений (абсолютно любое количество повторений. В том числе и 0 повторений)
10. \+ - одно и более повторение
11. ? - 0 или 1 повторение

### Пример №1
Необходимо вывести элементы списка, содержащие только 1 цифру.

    import re
    
    my_list = ['123', '1', '12']
    
    for element in my_list:
      if re.fullmatch(r'\d', element):
        print(element)  # Результат: 1


### Пример №2
Необходимо вывести элементы списка, содержащие только буквы

        import re
        
        my_list = ['123', '1', '12', 'test']
        
        # Первый вариант регулярки
        for element in my_list:
          if re.fullmatch(r'\w[a-z]+', element):  
            print(element)  # Результат: test

        # Второй вариант регулярки
        for element in my_list:
          if re.fullmatch(r'\w[a-z]{1,5}', element):  
            print(element)  # Результат: test

### Задача №1
Необходимо вывести элементы списка, содержащие любое количество цифр

    my_list = ['123', '1', '12', 'test']

### Решение задачи №1
        import re
        
        my_list = ['123', '1', '12', 'test']
        
        for element in my_list:
          if re.fullmatch(r'\d+', element):  
            print(element)  # Результат: 123, 1, 12

### Метода библиотеки re

#### Метод fullmatch
re.fullmatch(pattern, string) - метод сравнивает шаблок со всей строкой.  
Возвращает объект SRE_Match.  
Чтобы получить искомую строку, требуется применить метод group().

Пример:

    import re

    result = re.fullmatch(r'\d{3}', '123')
    not_result = re.fullmatch(r'\d{3}', '123 - no string')
    
    print(result.group())  # Результат 123
    print(not_result)  # Результат None

#### Метод match
re.match(pattern, string) - метод ищет совпадение в начале строки.  
Возвращает объект SRE_Match.  
Чтобы получить искомую строку, требуется применить метод group().

    import re

    result = re.match(r'\d{2}', '123 - no string')
    not_result = re.match(r'\d{2}', 'string')
    
    print(result.group())  # Результат 12
    print(not_result)  # Результат None

#### Метод search
re.search(pattern, string) - аналогичен методу match(), но ищет паттерн во всей строке.  
re.search возвращает только первую найденную группу.  

    import re

    result = re.search(r'\d{2}', 'string, 123 - no string')
    
    print(result.group())  # Результат 12

#### Метод findall
re.findall(pattern, string) - метод возвращает списко всех найденных совпадений.  
Возвращает список (а не объект SRE_Match), если находит.  
Возвращает пустой список, если не находит.  

    import re

    result = re.findall(r'\d{2}', '12 string, 34 - no string 56')
    
    print(result)  # Результат ['12', '34', '56']

### Задача №2
Напишите функцию, которая:
1. Принимает строку
2. Проверяет её на соответствие электронной почте (xxxxx@xxxx.xxx)
3. Возвращает True, если проверка прошла

### Решение задачи №2
    import re
    
    def check_email(email: str):
      return bool(re.fullmatch(r'\w{1,30}@\w{1,10}.\w{1,10}', email))
    
    print(check_email('tttttt@ttt.tt'))  # Результат: True