## Урок 8. ООП. Часть 3 - Абстракция и полиморфизм

### Полиморфизм
Полиморфизм позволяет обращаться с объектами разных классов так, как будто они являются объектами одного класса.  

#### Базовые примеры полиморфизма есть в самом языке Python:
- функция +
- функция len()

Пример базового полиморфизма:

    # Базовые примеры полиморфизма

    # Пример 1
    # +    
    a = 3
    b = 7
    print(a + b)  # Результат: 10
        c = 'learn'
    d = 'python'
    print(c + ' ' + d)  # Результат: learn python
        
    # Пример 2
    # len()    
    print(len('abc'))  # Результат: 3
    print(len([1, 2, 3, 4, 5]))  # Результат: 5
    print(len({'a': 1, 'b': 2}))  # Результат: 2

#### Полиморфизм в ООП
Мы можем использовать идею полиморфизма для методов класса, так как разные классы в Python могут иметь методы с одинаковым именем.  
Это делается для обобщенного вызова этих методов, игнорирую объект, с которым мы работаем.  

Пример полиморфизма в классах:

    class T1:
        def __init__(self):
            self.n = 10
    
        def total(self, a):
            return self.n + int(a)
    
    
    class T2:
        def __init__(self):
            self.string = 'Hi'
    
        def total(self, a):
            return len(self.string + str(a))
    
    
    t1 = T1()
    t2 = T2()
    
    # вызываем или так
    print(t1.total(35))  # Результат: 45
    print(t1.total(35))  # Результат: 4

    # или так
    for i in (t1, t2):
        print(i.total(35))  # Результат: 45 4

Сама суть использования полиморфизма заключается вот в этом самом действии:  
Мы можем вызвать один и тот же метод, с одними и теми же параметрами для разных объектов.   
Это могут быть совершенно разные объекты, ничем друг с другом не связаные, но иметь одинаковые методы и принимать одинаковые параметры.  
А значения они будут возвращать уже в зависимости от действий уже конкретного класса.  

### Задача №1 (на полиморфизм)
1. Создайте два класса Cat и Dog, каждый класс принимает name, age при инициализации.
2. У каждого класса создайте метод info, который выводит в консоль: название класса, name и age.
3. Создайте объект для каждого класса, и для каждого вызовите метод info.

### Решение задачи №1 
    class Cat:
        def __init__(self, name, age):
            self.name = name
            self.age = age
    
        def info(self):
            print(f'{Cat.__name__}: name - {self.name}, year - {self.age}')
    
    
    class Dog:
        def __init__(self, name, age):
            self.name = name
            self.age = age
    
        def info(self):
            print(f'{Dog.__name__}: name - {self.name}, year - {self.age}')
    
    
    cat1 = Cat('C1', 1)
    dog1 = Dog('D1', 0.4)
    
    for animal in (cat1, dog1):
        animal.info()

Небольшая оговорка: Полиморфизм и наследование могут работать вместе.  

### Абстракция
Абстрактный подход помогает создавать интерфейсы и классы, которые определяют только те свойства и методы, которые необходимы для выполнения определённой задачи.

Абстрактный подход - принуждает подклассы к реализации конкретных методов или к выполнению определённых требований путём определения абстрактных методов или свойств.  
Таким образом, абстракция позволяет определять общие интерфейсы для классов, но при этом гарантирует, что каждый подкласс будет реализовывать свою версию этих методов или свойств.  

Для работы с абстрактными классами в Python используют модуль abc.  

- abc.ABC - это базовый класс для создания абстрактных классов.
- abc.abstractmethod - декоратор, который указывает, что метод является абстрактным.

Для работы с абстрактными методами нужно импортировать:

    from abc import ABC, abstractmethod

### Задача №2 (на абстракцию)
1. Создайте класс User, наследуйте от класса ABS, при инициализации User принимает name, password.
2. Создайте абстрактный метод login, в теле метода только pass. 

### Решение задачи №2
    from abc import ABC, abstractmethod
    
    
    class User(ABC):
        def __init__(self, name, password):
            self.name = name
            self.password = password
    
        @abstractmethod
        def login(self):
            pass

### Задача №3 (на абстракцию)
1. Создайте два класса Admin и Teacher. Оба наследуются от User, в обоих классах создайте метод login в котором выводите на печать "name - login".
2. Создайте класс Student, наследованный от User, в теле класса только pass. 

### Решение задачи №3
    class Admin(User):
        def login(self):
            print(f'{self.name} - login')
    
    
    class Teacher(User):
        def login(self):
            print(f'{self.name} - login')
    
    
    class Student(User):
        pass

    admin_1 = Admin('Фёдор', '!@#GRTY%^%^')  # Результат: Фёдор - login
    teacher_1 = Teacher('Мария', 'fasdfoi@#$DG_!±@')  # Результат: Мария - login
    # student_1 = Student('Илья', 'asdfWER#$Y%$)IGASD')  # Ошибка: TypeError: Can't instantiate abstract class Student without an implementation for abstract method 'login'
    
    for user in (admin_1, teacher_1):
        user.login()